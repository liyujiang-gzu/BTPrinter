<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="Cache-Control" content="no-cache"/>
    <meta name="Pragma" content="no-cache"/>
    <meta name="Expires" content="0"/>
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"/>
    <meta name="MobileOptimized" content="320"/>
    <meta name="Author" content="李玉江，QQ:1032694760，EMAIL:liyujiang_tk@yeah.net"/>
    <title>蓝牙热敏纸打印机</title>
    <style type="text/css">
    </style>
</head>
<body>
<div style="padding-top:25px;">
    <button onclick="checkBluetoothEnable()">检查蓝牙是否开启:Bluetooth.isBluetoothEnabled()</button>
    <br/>
    <button onclick="enableBluetooth()">开启蓝牙:Bluetooth.enableBluetooth()</button>
    <br/>
    <button onclick="disableBluetooth()">关闭蓝牙:Bluetooth.disableBluetooth()</button>
    <br/>
    <button onclick="bluetoothSettings()">打开蓝牙设置(配对):Bluetooth.openBluetoothSettings()</button>
    <br/>
    <button onclick="getPairedDevice()">获取已配对蓝牙设备:Bluetooth.getPairedDevice('callback');</button>
    <br/>
    <button onclick="connectPrinter()">
        连接蓝牙打印机:Bluetooth.connectPrinter(address,'callbackSuccess','callbackFailure');
    </button>
    <br/>
    <button onclick="disconnectPrinter()">断开已连接的打印机:Bluetooth.disconnectPrinter();</button>
    <br/>
    <button onclick="printPaper()">打印测试:Bluetooth.printPaper(json)</button>
    <br/>
</div>
</body>
<script type="text/javascript">
        function checkBluetoothEnable(){
            if (Bluetooth.isBluetoothEnabled()) {
                Bluetooth.showToast('蓝牙已打开');
            } else {
                Bluetooth.showToast('蓝牙未打开');
            }
        }

        function enableBluetooth(){
            Bluetooth.enableBluetooth();
        }

        function disableBluetooth(){
            Bluetooth.disableBluetooth();
        }

        function bluetoothSettings(){
            Bluetooth.openBluetoothSettings();
        }

        function getPairedDevice(){
            Bluetooth.getPairedDevice('getPairedDeviceCallback');
        }

        function getPairedDeviceCallback(responseData) {
            Bluetooth.showAlert(JSON.stringify(responseData));
        }

        function connectPrinter(){
            Bluetooth.connectPrinter('DC:0D:30:60:A1:F3', 'connectSuccessCallback', 'connectFailureCallback');
        }

        function connectSuccessCallback() {
            Bluetooth.showToast('连接成功');
        }

        function connectFailureCallback() {
             Bluetooth.showToast('连接失败');
        }

        function disconnectPrinter(){
            Bluetooth.disconnectPrinter();
        }

        function printPaper(){
            Bluetooth.printPaper('');
        }
</script>
</html>
